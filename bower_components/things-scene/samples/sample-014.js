// var model = {
//   components: [{
//     "left": 50,
//     "top": 50,
//     "type": "rect",
//     "innerBorder": true,
//     "width": 100,
//     "height": 100,
//     "lineWidth": 100,
//     "centerRotate": false
//   },
//   {
//     "left": 75,
//     "top": 75,
//     "type": "rect",
//     "innerBorder": true,
//     "width": 100,
//     "height": 100,
//     "lineWidth": 100,
//     "centerRotate": false
//   },
//   {
//     "left": 88,
//     "top": 88,
//     "type": "rect",
//     "innerBorder": true,
//     "width": 50,
//     "height": 50,
//     "lineWidth": 50,
//     "centerRotate": false
//   },
//   {
//     "left": 220,
//     "top": 50,
//     "text": "International Shipping, Inc.",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 60,
//     "charWidth": 50,
//     "fontFamily": "serif",
//     "centerRotate": false
//   },
//   {
//     "left": 220,
//     "top": 100,
//     "text": "1000 Shipping Lane",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 40,
//     "charWidth": null,
//     "fontFamily": "serif",
//     "centerRotate": false
//   },
//   {
//     "left": 220,
//     "top": 135,
//     "text": "Shelbyville TN 38102",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 40,
//     "charWidth": null,
//     "fontFamily": "serif",
//     "centerRotate": false
//   },
//   {
//     "left": 220,
//     "top": 170,
//     "text": "United States (USA)",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 40,
//     "charWidth": null,
//     "fontFamily": "serif",
//     "centerRotate": false
//   },
//   {
//     "left": 50,
//     "top": 250,
//     "type": "rect",
//     "innerBorder": true,
//     "width": 700,
//     "height": 1,
//     "lineWidth": 3,
//     "centerRotate": false
//   },
//   {
//     "left": 50,
//     "top": 300,
//     "text": "John Doe",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 30,
//     "charWidth": null,
//     "fontFamily": "serif",
//     "centerRotate": false
//   },
//   {
//     "left": 50,
//     "top": 340,
//     "text": "100 Main Street",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 30,
//     "charWidth": null,
//     "fontFamily": "serif",
//     "centerRotate": false
//   },
//   {
//     "left": 50,
//     "top": 380,
//     "text": "Springfield TN 39021",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 30,
//     "charWidth": null,
//     "fontFamily": "serif",
//     "centerRotate": false
//   },
//   {
//     "left": 50,
//     "top": 420,
//     "text": "United States (USA)",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 30,
//     "charWidth": null,
//     "fontFamily": "serif",
//     "centerRotate": false
//   },
//   {
//     "left": 600,
//     "top": 300,
//     "type": "rect",
//     "innerBorder": true,
//     "width": 150,
//     "height": 150,
//     "lineWidth": 3,
//     "centerRotate": false
//   },
//   {
//     "left": 638,
//     "top": 340,
//     "text": "Permit",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 15,
//     "charWidth": null,
//     "fontFamily": "serif",
//     "centerRotate": false
//   },
//   {
//     "left": 638,
//     "top": 390,
//     "text": "123456",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 15,
//     "charWidth": null,
//     "fontFamily": "serif",
//     "centerRotate": false
//   },
//   {
//     "left": 50,
//     "top": 500,
//     "type": "rect",
//     "innerBorder": true,
//     "width": 700,
//     "height": 1,
//     "lineWidth": 3,
//     "centerRotate": false
//   },
//   {
//     "scale_w": "5",
//     "rot": "",
//     "left": 175,
//     "top": 550,
//     "type": "barcode",
//     "symbol": "code128",
//     "text": "1234567890",
//     "centerRotate": false
//   },
//   {
//     "left": 50,
//     "top": 900,
//     "type": "rect",
//     "innerBorder": true,
//     "width": 700,
//     "height": 250,
//     "lineWidth": 3,
//     "centerRotate": false
//   },
//   {
//     "left": 400,
//     "top": 900,
//     "type": "rect",
//     "innerBorder": true,
//     "width": 1,
//     "height": 250,
//     "lineWidth": 3,
//     "centerRotate": false
//   },
//   {
//     "left": 100,
//     "top": 960,
//     "text": "Shipping Ctr. X34B-1",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 40,
//     "charWidth": null,
//     "fontFamily": "serif",
//     "centerRotate": false
//   },
//   {
//     "left": 100,
//     "top": 1010,
//     "text": "REF1 F00B47",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 40,
//     "charWidth": null,
//     "fontFamily": "serif",
//     "centerRotate": false
//   },
//   {
//     "left": 100,
//     "top": 1060,
//     "text": "REF2 BL4H8",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 40,
//     "charWidth": null,
//     "fontFamily": "serif",
//     "centerRotate": false
//   },
//   {
//     "left": 485,
//     "top": 965,
//     "text": "CA",
//     "type": "text",
//     "textAlign": "left",
//     "textType": "F",
//     "charHeight": 190,
//     "charWidth": null,
//     "fontFamily": "serif",
//     "centerRotate": false
//   }]
// };

var model = {
  components: [
  {
    "left": 100,
    "top": 30,
    "height": 50,
    "width": 200,
    "fontFamily": "CYRI_UB",
    "text": "Fit Case, Total Width Test",
    "type": "text",
    "textAlign": "right",
    "textType": "F",
    "centerRotate": false
  },
  {
    "left": 100,
    "top": 80,
    "height": 50,
    "width": 200,
    "fontFamily": "CYRI_UB",
    "text": "Fit Case, Total Width Test",
    "type": "text",
    "textAlign": "center",
    paddingLeft: 10,
    paddingRight: 10,
    paddingTop: 10,
    paddingBottom: 10,
    "textType": "F",
    "centerRotate": false
  },
  {
    "left": 330,
    "top": 30,
    "height": 50,
    "width": 200,
    "italic": true,
    "bold": true,
    "underLine": true,
    "fontFamily": "CYRI_UB",
    "text": "Fit Case, Total Width Test",
    "type": "text",
    "textAlign": "left",
    "textType": "F",
    "centerRotate": false
  },
  {
    "left": 200,
    "top": 100,
    "height": 50,
    "width": 350,
    "fontFamily": "CYRI_UB",
    "text": "Default Case, textAlign: left, Total Width Test",
    "type": "text",
    "underLine": true,
    "textAlign": "left",
    "centerRotate": false
  },
  {
    "left": 200,
    "top": 130,
    "height": 50,
    "width": 350,
    "fontFamily": "CYRI_UB",
    "text": "Default Case, paddingLeft: 10, Total Width Test",
    paddingLeft: 10,
    "type": "text",
    "textAlign": "left",
    "centerRotate": false
  },
  {
    "left": 200,
    "top": 160,
    "height": 50,
    "width": 350,
    textAlign: 'right',
    "fontFamily": "CYRI_UB",
    "text": "Default Case, paddingLeft: 00, textAlign is right",
    "type": "text",
    "centerRotate": false
  },
  {
    "left": 200,
    "top": 190,
    "height": 50,
    "width": 350,
    textAlign: 'right',
    "fontFamily": "CYRI_UB",
    "text": "Default Case, paddingLeft: 20, textAlign is right",
    paddingLeft: 20,
    "type": "text",
    "centerRotate": false
  },
  {
    "left": 200,
    "top": 220,
    "height": 50,
    "width": 350,
    textAlign: 'right',
    "fontFamily": "CYRI_UB",
    "text": "Default Case, paddingRight: 20, textAlign is right",
    paddingRight: 20,
    "type": "text",
    "centerRotate": false
  },
  {
    "left": 200,
    "top": 250,
    "height": 50,
    "width": 350,
    textAlign: 'center',
    "fontFamily": "CYRI_UB",
    "text": "Default Case, paddingLeft: 10, textAlign is center",
    "type": "text",
    paddingLeft: 10,
    "centerRotate": false
  },
  {
    "left": 200,
    "top": 280,
    "height": 50,
    "width": 350,
    textBaseline: 'top',
    "fontFamily": "CYRI_UB",
    "text": "Default Case, Total Width Test, textBaseline is top",
    "type": "text",
    "centerRotate": false
  },
  {
    "left": 200,
    "top": 310,
    "height": 50,
    "width": 350,
    textBaseline: 'middle',
    "fontFamily": "CYRI_UB",
    "text": "Default Case, Total Width Test, textBaseline is middle",
    "type": "text",
    "centerRotate": false
  },
  {
    "left": 200,
    "top": 390,
    "height": 50,
    "width": 350,
    textBaseline: 'bottom',
    "fontFamily": "CYRI_UB",
    "text": "onewordjustifytest",
    textAlign: 'justify',
    "type": "text",
    "centerRotate": false
  },
  {
    "left": 200,
    "top": 430,
    "height": 50,
    "width": 350,
    textBaseline: 'bottom',
    fontSize: 10,
    "fontFamily": "CYRI_UB",
    "text": "some words justify test",
    textAlign: 'justify',
    "type": "text",
    "centerRotate": false
  },
  {
    "left": 200,
    "top": 480,
    "height": 50,
    "width": 350,
    textBaseline: 'bottom',
    fontSize: 10,
    "fontFamily": "CYRI_UB",
    "text": "some words justify test padding 10",
    paddingLeft: 10,
    paddingRight: 10,
    paddingTop: 10,
    paddingBottom: 10,
    textAlign: 'justify',
    "type": "text",
    "centerRotate": false
  },
  {
    "left": 200,
    "top": 340,
    "height": 50,
    "width": 350,
    textBaseline: 'bottom',
    "fontFamily": "CYRI_UB",
    "text": "Default Case, Total Width Test, textBaseline is bottom",
    "type": "text",
    "centerRotate": false
  },
  {
    "left": 600,
    "top": 20,
    "textType": "W",
    "width": 400,
    "maxLines": 10,
    "lineMargin": null,
    "hangingIndent": null,
    "text": "Wrap case, charWidth, charHeight test, textAlign is justify: hello world",
    "type": "text",
    "textAlign": "justify",
    "charHeight": 15,
    "charWidth": 30,
    underLine: true,
    "fontFamily": "serif",
    "centerRotate": false
  },
  {
    "left": 600,
    "top": 100,
    "textType": "W",
    "width": 400,
    "maxLines": 10,
    "lineMargin": null,
    "hangingIndent": null,
    "text": "Wrap case, charWidth, charHeight test, textAlign is justify: hello world",
    "type": "text",
    "textAlign": "justify",
    "charHeight": 15,
    "charWidth": 15,
    "fontFamily": "serif",
    "centerRotate": false
  },
  {
    "left": 600,
    "top": 150,
    "textType": "W",
    "width": 400,
    "maxLines": 10,
    "lineMargin": null,
    "hangingIndent": null,
    "text": "Wrap case, charWidth, charHeight test, paddingTop: 10, paddingBottom: 20, has height attribute, textAlign is justify, textBaseline is middle: hello world",
    "type": "text",
    height: 100,
    textBaseline: 'middle',
    "textAlign": "justify",
    paddingTop: 10,
    paddingBottom: 20,
    fontSize: 15,
    "fontFamily": "serif",
    "centerRotate": false
  },
  {
    "left": 600,
    "top": 250,
    "textType": "W",
    "width": 400,
    "maxLines": 10,
    "lineMargin": null,
    "hangingIndent": 30,
    "italic": true,
    "bold": true,
    fontSize: 20,
    underLine: true,
    "text": "Wrap case, fontSize test, bold, italic, hangingindent is 30, maxLines is 10, textAlign is left, hello world",
    "type": "text",
    "textAlign": "left",
    "fontFamily": "serif",
    "centerRotate": false
  },
  {
    "left": 600,
    "top": 320,
    "textType": "W",
    "width": 400,
    "maxLines": 10,
    "lineMargin": null,
    "hangingIndent": 0,
    fontSize: 20,
    "text": "Wrap case, fontSize test, hangingindent 0, textAlign is right, textBaseline top, hello world",
    "type": "text",
    "textAlign": "right",
    textBaseline: 'top',
    height: 100,
    "fontFamily": "serif",
    "centerRotate": false
  },
  {
    "left": 600,
    "top": 300,
    "textType": "W",
    "width": 400,
    "maxLines": 10,
    "lineMargin": 10,
    height: 300,
    "hangingIndent": 0,
    fontSize: 20,
    "text": "Wrap case, fontSize test, lineMargin 10, textAlign is center, textBaseline bottom, hello world",
    // text: 'asfdasdasdfasdfasdfasdfasdfasdfasdfasdfssssdfsfiii',
    // text: 'asdfasdfasdfasdfasadfasdfasdfasdfasdfasfdaaaaaaaa',
    "type": "text",
    "textAlign": "center",
    textBaseline: 'bottom',
    "fontFamily": "serif",
    "centerRotate": false
  },
  {
    "left": 600,
    "top": 380,
    "textType": "W",
    "width": 400,
    "maxLines": 10,
    "lineMargin": 10,
    "hangingIndent": 0,
    fontSize: 20,
    "text": "Wrap case, fontSize test, lineMargin 10, text contains\nnewline, textAlign is center, hello world",
    "type": "text",
    "textAlign": "center",
    "fontFamily": "serif",
    "centerRotate": false
  },
  {
    "type": "rect",
    "left": 1000,
    "top": 70,
    "width": 400,
    height: 100,
    "textType": "W",
    "maxLines": 10,
    "lineMargin": 0,
    lineWidth: 2,
    strokeStyle: 'black',
    fontSize: 20,
    "text": "Wrap case, fontSize test, lineMargin 0, paddingBottom: 10, textAlign is center, textBaseline bottom, hello world",
    // "text": "Wrap",
    paddingBottom: 30,
    textBaseline: 'bottom',
    "fontFamily": "serif",
    rotation: Math.PI / 180 * 10,
    "centerRotate": false
  },
  {
    "type": "rect",
    "left": 1000,
    "top": 320,
    "width": 400,
    height: 100,
    "textType": "W",
    "maxLines": 10,
    "lineMargin": 0,
    strokeStyle: 'black',
    "hangingIndent": 0,
    fontSize: 20,
    "text": "Wrap case, fontSize test, textAlign is right, textBaseline top, paddingTop: 10, hello world",
    "textAlign": "right",
    paddingTop: 10,
    textBaseline: 'top',
    "fontFamily": "serif",
    // rotation: Math.PI / 180 * 10,
    "centerRotate": false
  },
  {
    "left": 600,
    "top": 480,
    "textType": "W",
    "width": 400,
    "maxLines": 10,
    "lineMargin": null,
    "hangingIndent": 0,
    // fontSize: 30,
    "text": "Wrap case, charWidth-charHeight test, textAlign is center, hello world",
    "type": "text",
    "textAlign": "center",
    "charHeight": 25,
    "charWidth": 15,
    "fontFamily": "serif",
    "centerRotate": false
  },
  {
    type: 'ellipse',
    cx : 1000,
    cy: 450,
    rx: 100,
    ry: 50,
    lineCap: 2,
    textType: 'W',
    strokeStyle: 'black',
    rotation: 0
  },
  {
    type: 'line',
    x1 : 900,
    y1: 100,
    x2: 950,
    y2: 200,
    strokeStyle: 'black',
    rotation: 2.5
  },
  {
    type: 'polygon',
    path: [{x:100, y:200}, {x:150, y:500}, {x:350, y:400}, {x:700, y:300}, {x:600, y:250}], rotation: 0,
    strokeStyle: '#FF0000', fillStyle: ''
  },
  {
    "type": "rect",
    "left": 1000,
    "top": 600,
    "width": 200,
    height: 200,
    "textType": "F",
    strokeStyle: 'black',
    "hangingIndent": 0,
    fontSize: 50,
    "text": "FIT CASE",
    // rotation: Math.PI / 180 * 10,
    "centerRotate": false
  },{
    'type':'text',
    'left':634.9999999999999,
    'top':307.5,
    'width':757.7155809879306,
    'height':300,
    'text':'Here is my dream land',
    'fillStyle':'#fff',
    'strokeStyle':'#000',
    'textType':'W',
    'alpha':1,
    'hidden':false,
    'lineWidth':5,
    'lineDash':'solid',
    'lineCap':'butt',
    'rotation':0,
    'charHeight':94.243896484375,
    'fontSize':'100',
    'charWidth':50.10452343168713
  }]
};

var p = null;

function create() {
  p = scene.create({
    target: 'scene',
    model: model,
    layers: [{
      type: 'guide-layer'
    }, {
      type: 'selection-layer'
    }, {
      type: 'modeling-layer'
    }, {
      type: 'shift-layer'
    }],
    handlers: [
      'text-editor',
      'move-handler'
    ]
  });
}

function dispose() {
  p.dispose();
}

function undo() {
  p.undo()
}

function redo() {
  p.redo()
}

function change() {
  p.target_element.addEventListener('click', function(e) {
    p.change('barcode', {
      text: '0987654321',
      alttext: '123456789012345'
    })
  });
}

function fullscreen() {
  p.fullscreen()
}
